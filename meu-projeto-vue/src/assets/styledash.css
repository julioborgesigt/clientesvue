/* Reset e estilos básicos */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: Arial, sans-serif;
  background-color: #f4f4f4;
  padding: 20px;
}

/* Container principal */
.container {
  margin: 0 auto;
  background-color: white;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  text-align: center;
  max-width: 1200px;
}

@media (max-width: 768px) {
  .container {
    padding: 10px;
    width: 95%;
    max-width: 100%;
  }
}

/* Navbar customizada */
.navbar {
  background: #007bff;
  padding: 10px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  border-radius: 10px;
  margin-bottom: 20px;
}

.navbar-left,
.navbar-right {
  display: flex;
  align-items: center;
}

.navbar a,
.navbar button {
  color: white;
  text-decoration: none;
  padding: 8px 15px;
  margin: 0 5px;
  border: none;
  background-color: transparent;
  font-weight: bold;
  transition: background-color 0.3s, color 0.3s;
  cursor: pointer;
}

.navbar a:hover,
.navbar button:hover {
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

@media (max-width: 768px) {
  .navbar a,
  .navbar button {
    font-size: 0.75rem;
  }
}

@media (max-width: 400px) {
  .navbar {
    flex-direction: column;
    text-align: center;
  }
  .navbar-left,
  .navbar-right {
    width: 100%;
    justify-content: center;
    margin: 5px 0;
  }
  .navbar a,
  .navbar button {
    font-size: 0.70rem;
    padding: 0;
  }
}

/* Botão de toggle para a sidebar (oculto em telas maiores) */
.menu-toggle {
  display: none;
  position: fixed;
  top: 20px;
  left: 20px;
  background-color: #007bff;
  color: white;
  border: none;
  font-size: 1rem;
  padding: 10px;
  border-radius: 4px;
  z-index: 1100;
}

/* Estilos para dispositivos móveis */
@media (max-width: 768px) {
  .menu-toggle {
    display: block;
  }

  .navbar {
    position: fixed;
    top: 0;
    left: -250px;
    width: 150px;
    height: 100%;
    background: #007bff;
    padding: 10px;
    box-shadow: 2px 0 5px rgba(0,0,0,0.3);
    flex-direction: column;
    transition: left 0.3s ease;
    z-index: 1000;
  }

  .navbar.show {
    left: 0;
  }

  .navbar a,
  .navbar button {
    font-size: 0.8rem;
    padding: 8px 10px;
    margin: 5px 0;
  }

  .navbar-left,
  .navbar-right {
    flex-direction: column;
    align-items: flex-start;
    width: 100%;
    margin-top: 80px;
  }
}

/* Cards e gráfico */
.cardmaisgrafico {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: space-between;
  margin-bottom: 20px;
}

.cards-container {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin-top: 10px;
  justify-content: center;
}

.card {
  background: rgba(255, 255, 255, 0.9);
  color: #130029;
  padding: 10px;
  width: 120px;
  height: 80px;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  cursor: default;
  text-align: left;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  font-size: 0.9rem;
  border: 2px solid transparent;
  transition: box-shadow 0.3s, border 0.3s;
}

@media (max-width: 400px) {
  .cards-container {
    flex-wrap: wrap;
    justify-content: center;
    max-height: 450px;
  }

  .card {
    width: 105px;
    margin: 5px;
  }
}

@keyframes borderShimmer {
  0% { border-color: #007bff; box-shadow: 0 0 5px rgba(0,123,255,0.5); }
  50% { border-color: #00aaff; box-shadow: 0 0 15px rgba(0,123,255,1); }
  100% { border-color: #007bff; box-shadow: 0 0 5px rgba(0,123,255,0.5); }
}

.card:hover { transform: none; box-shadow: 0 4px 10px rgba(0,0,0,0.15); }
.card.active { background-color: #007bff; color: white; }
.card[data-category="vencidos"]:hover,
.card[data-category="vence3"]:hover,
.card[data-category="emdias"]:hover,
.card[data-category="totalClientes"]:hover { animation: borderShimmer 1s infinite; }
.card:not([data-category="vencidos"]):not([data-category="vence3"]):not([data-category="emdias"]):not([data-category="cadastro"]):not([data-category="totalClientes"]):hover { transform: none; box-shadow: 0 4px 10px rgba(0,0,0,0.15); }
.card h2 { margin-bottom: 20px; font-size: 16px; }
.card .count { font-size: 16px; font-weight: bold; margin-top: 0; color: #882121; text-align: right; }

.grafico { flex: 1 1 300px; min-height: 300px; display: flex; justify-content: center; align-items: center; }
.grafico canvas { max-width: 100%; max-height: 100%; }

@media (max-width: 768px) {
  .cardmaisgrafico { flex-direction: column; }
  .card h2 { margin-bottom: 20px; font-size: 14px; }
  .card .count { font-size: 14px; text-align: right; }
}

/* Campo de pesquisa */
#search-container { margin: 20px auto; width: 100%; max-width: 300px; padding: 0 10px; display: flex; justify-content: center; }
#searchInput { width: 100%; padding: 10px 15px; font-size: 1rem; border: 1px solid #ccc; border-radius: 25px; transition: border-color 0.3s ease; }
#searchInput:focus { outline: none; border-color: #007bff; }

/* Modal */
.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.5); }
.modal-content { background-color: #fefefe; margin: 10% auto; padding: 20px; border-radius: 8px; width: 80%; max-width: 600px; position: relative; text-align: left; }
.close-btn { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
.close-btn:hover, .close-btn:focus { color: black; }

/* Tabela */
#table-container {
  margin-top: 30px;
  overflow-x: auto;
  overflow-y: visible; /* Mantido para caso o menu precise escapar verticalmente */
  -webkit-overflow-scrolling: touch;
}
#table-container::-webkit-scrollbar { height: 8px; }
#table-container::-webkit-scrollbar-track { background: #f1f1f1; }
#table-container::-webkit-scrollbar-thumb { background: #888; border-radius: 4px; }
#table-container::-webkit-scrollbar-thumb:hover { background: #555; }

@media screen and (max-width: 768px) { #table-container { width: 100%; } }

#table-container table { width: 100%; min-width: 1140px; scrollbar-gutter: stable; }
@media (max-width: 768px) { #table-container table { width: auto; min-width: 800px; table-layout: auto; } #table-container th, #table-container td { word-wrap: break-word; white-space: normal; } }
#table-container th, #table-container td { border: 1px solid #ddd; padding: 8px; text-align: left; font-size: 0.9rem; }
#table-container tr:nth-child(even) { background-color: #f9f9f9; }
#table-container tr:hover { background-color: #f1f1f1; }
#table-container th { background-color: #007bff; color: white; padding-top: 12px; padding-bottom: 12px; }

/* Estilos de Formulário (Dentro do Modal) */
#registration-form, #edit-form, [id^="edit-form-"], #edit-message-form, #edit-message-vencido-form { display: flex; flex-direction: column; gap: 15px; text-align: left; margin-top: 20px; }
.form-group { display: flex; flex-direction: column; gap: 5px; text-align: left; }
.form-label { font-size: 0.9rem; font-weight: 600; color: #333; margin-bottom: 0; }
.form-group .input-group { display: flex; }
.form-group .input-group .input-group-text { padding: 10px; background: #eee; border: 1px solid #ccc; border-right: none; border-radius: 5px 0 0 5px; font-size: 16px; }
.form-group .input-group .form-control { border-radius: 0 5px 5px 0; }
#registration-form input, #registration-form textarea, #edit-form input, #edit-form textarea, [id^="edit-form-"] input, [id^="edit-form-"] textarea, #edit-message-form textarea, #edit-message-vencido-form textarea { padding: 10px; font-size: 16px; border: 1px solid #ccc; border-radius: 5px; width: 100%; resize: vertical; }

/* Botões Genéricos */
.btn { padding: 10px 15px; font-size: 1rem; border: none; border-radius: 5px; cursor: pointer; transition: background-color 0.3s ease; font-weight: bold; }
.btn-secondary { background-color: #6c757d; color: white; }
.btn-secondary:hover { background-color: #5a6268; }
.btn-danger { background-color: #d32f2f; color: white; }
.btn-danger:hover { background-color: #b71c1c; }
.btn-primary { background-color: #007bff; color: white; }
.btn-primary:hover { background-color: #0056b3; }
.btn-success { background-color: #28a745; color: white; }
.btn-success:hover { background-color: #218838; }
.form-button-group { display: flex; gap: 10px; justify-content: flex-end; margin-top: 15px; }

/* Estilos de Status (tabela) */
.status-cobrança-feita { background-color: #ffe4b5; color: #ff8c00; border: 1px solid #ff8c00; }
.status-pendente { background-color: #ffcccc; color: #d00000; border: 1px solid #d00000; }
.status-em-dias { background-color: #b3e4bf; color: #3ac45a; border: 1px solid #3ac45a; }

/* --- Estilos do Menu de Ações (Dropdown) --- */
#table-container td.actions-cell {
  /* position: relative; REMOVIDO */
  overflow: visible; /* Mantido para garantir */
}
.dropdown {
  position: relative; /* Container relativo DENTRO da célula */
  display: inline-block;
}
.dropdown-toggle { background-color: #007bff; color: white; padding: 5px 10px; font-size: 0.9rem; border: none; border-radius: 4px; cursor: pointer; }
.dropdown-toggle:hover { background-color: #0056b3; }

.dropdown-menu {
  /* display: none; REMOVIDO - JS controla a visibilidade */
  position: absolute; /* Agora sempre absoluto */
  background-color: #f9f9f9;
  min-width: 180px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1050; /* Alto z-index, pois estará no body */
  border-radius: 5px;
  padding: 5px 0;
  /* top/left/right/bottom serão definidos pelo JS */
}

/* Classes para controlar visibilidade e direção */
.dropdown-menu.hidden { display: none; } /* Classe para ocultar */
.dropdown-menu.show-down { display: block; /* Abre para baixo (padrão implícito) */ }
.dropdown-menu.show-up { display: block; /* JS calculará bottom/left */ }

.dropdown-menu a { color: black; padding: 8px 16px; text-decoration: none; display: block; font-size: 0.9rem; white-space: nowrap; }
.dropdown-menu a:hover { background-color: #ddd; }
.dropdown-divider { height: 1px; margin: 5px 0; overflow: hidden; background-color: #e5e5e5; }
.dropdown-menu a.dropdown-delete { color: #d32f2f; font-weight: bold; }
.dropdown-menu a.dropdown-delete:hover { background-color: #d32f2f; color: white; }

/* --- Estilos da Paginação --- */
#pagination-container { margin-top: 20px; display: flex; justify-content: center; align-items: center; gap: 15px; }
#pagination-container button { padding: 8px 15px; font-size: 0.9rem; }
#pagination-container button:disabled { background-color: #ccc; color: #888; cursor: not-allowed; border-color: #ccc; }
#pageInfo { font-size: 1rem; font-weight: bold; color: #333; }